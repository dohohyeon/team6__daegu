# 🚸 대구시 어린이보호구역 내 교통사고 분석
---

## 📘 프로젝트 개요

본 프로젝트는 어린이보호구역(스쿨존)을 대상으로 **교통사고 발생 여부를 예측**하고,  
사고 이력과 도로·시설·인구 정보를 통합하여 **구역별 사고 위험도를 시각화**하는 것을 목표로 합니다.

- **배경**
  - 대구시 어린이보호구역에서의 교통사고가 지속적으로 발생
  - 한정된 예산 안에서 **어느 구역을 우선 개선해야 하는지 정량적인 기준**이 필요
- **목표**
  - 사고 데이터와 도로·시설·인구 데이터를 통합한 **스쿨존 단위 특징량(feature)** 구축  
  - **사고 발생 유무(0/1) 분류 모델**을 통해 구역별 위험 점수 산출  
  - 지도 시각화를 통해 **고위험 스쿨존을 선별**하고 정책·시설 개선 방향 제안
- **참여 내역**
  - 제7회 대구 빅데이터 분석 경진대회  
    데이터 분석 및 활용(공공) 분야 출품 프로젝트

---

## 🧩 분석 데이터

- **데이터셋:** 어린이보호구역 단위 데이터 + 행정동 단위 교통·환경 지표를 결합  
- 보호구역 주소를 **카카오맵 로컬 API**로 지오코딩(위도·경도)한 뒤, 좌표를 기준으로 행정동을 매칭하고  
  행정동 키를 기준으로 **주행속도·교통량·인구 등 행정동 지표를 Left Join**하여 분석용 마스터 테이블을 구성했습니다.

| 구분 | 주요 항목 예시 |
|------|----------------|
| 어린이보호구역 단위 | 보호구역 주소, 도로 폭, 차로 수, 스쿨존 내 CCTV·과속방지턱·도로표지판 개수, 보호구역 내 어린이 교통사고 건수 등 |
| 시설·환경 정보 | 반경 300m 내 신호등 수, 보행자 교통섬, 안전표지, 보차분리 여부, 인근 버스정류장·교차로까지의 거리 등 |
| 공간·인구 통계 | 행정동별 평균 주행 속도·일평균 교통량, 면적, 전체/어린이 인구, 불법 주정차 단속 건수 등 행정동 수준 지표 |

추가로, 지역 규모와 활동량 차이를 보정하기 위해  
**교통량÷도로폭, 인구/면적(인구밀도·어린이밀도), 교통량/면적(교통밀도), 불법주정차÷교통량·도로폭**과 같은  
밀도·비율 기반 파생 변수들을 생성해 모델 입력으로 사용했습니다.


---

## 🛠 사용 기술 (Tech Stack)

- **언어 & 분석 라이브러리**  
  Python, NumPy, Pandas, Scikit-learn
- **공간 분석**  
  GeoPandas, Shapely, Folium(웹 지도 시각화)
- **시각화**  
  Matplotlib, Seaborn
- **협업**  
  Git / GitHub (버전 관리 및 이슈 관리)

---

## 🔄 워크플로우

1. **데이터 수집**
   - 교통사고, 스쿨존, 도로 인프라, 인구통계 등 공공데이터 수집
2. **전처리 & 정합**
   - 좌표계 통일 및 중복·결측값 처리  
   - 스쿨존 기준으로 여러 데이터 소스를 공간 조인하여 단일 테이블로 통합
3. **피처 엔지니어링**
   - 사고 건수 및 최근 n년 사고 이력 집계  
   - 도로 폭·차로 수·제한 속도 등 도로 환경 변수  
   - CCTV·과속카메라·신호등·횡단보도 유무 및 밀도 지표  
   - 어린이 인구 비율, 학교 수 등 배경 지표 생성
4. **모델링 & 평가**
   - 사고 발생 유무(0/1)를 타깃으로 한 분류 모델 설계  
   - 트리 기반 모델(Decision Tree, RandomForest, XGBoost 등) 비교  
   - 불균형 데이터 고려를 위해 **재발 사고구역 Recall**을 중점 지표로 활용
5. **시각화 & 정책 제안**
   - 예측된 위험 점수를 지도에 시각화해 고위험 구역 표시  
   - 위험 요인 분석 결과를 바탕으로 시설·정책 개선 인사이트 도출

---

## 🤖 분석 / 모델링

- **문제 정의**
  - 타깃 변수: 어린이보호구역 단위 **사고 발생 여부 (0: 사고 없음 / 1: 사고 발생)**  
  - 목적: **사고 발생 가능성이 높은 스쿨존을 우선적으로 식별**하는 분류 모델 구축
- **모델**
  - Decision Tree / RandomForest / XGBoost 등 트리 기반 알고리즘 활용  
  - 변수 중요도(feature importance)를 통해 **사고 위험에 영향을 주는 핵심 요인** 파악
- **검증 전략**
  - 스쿨존 단위로 그룹을 나눈 **Group K-Fold 교차 검증** 적용  
  - 재발 위험이 높은 구역을 놓치지 않기 위해  
    Precision·F1뿐 아니라 **양성 클래스를 기준으로 한 Recall**을 함께 모니터링
- **주요 정성적 결과**
  - 도로 폭, 제한 속도, 횡단보도·신호등·CCTV 유무 등이 높은 중요도를 보였으며  
  - 시설이 부족하고 통학로에 인접한 넓은 도로의 스쿨존에서 높은 위험 점수가 관찰됨

---

## 🗺️ 시각화 및 결과 해석

- **위험도 지도**
  - Folium 기반 인터랙티브 지도로 스쿨존별 사고 위험 점수를 색상(choropleth)으로 표현  
  - 사고 다발 구역에 대해 사고 이력, 시설 현황, 주변 인구 통계 정보를 팝업으로 제공
- **결과 해석**
  - **위험도가 높은 구역**에서 공통적으로 나타나는 패턴:
    - 도로 폭이 넓고 차량 속도가 빠른 구간  
    - 횡단보도·신호등·CCTV 등 보행 안전 시설이 부족한 구간  
    - 학교·학원가 밀집 및 통학 동선과 겹치는 구간  
  - 모델 설명 기법(특징 중요도, 부분의존도 그래프 등)을 활용해  
    각 변수의 영향 방향(사고 위험 증가/감소)을 해석하고 리포트로 정리

---

## 🧠 향후 개선 방향

- 시간 흐름(연도별·시점별)을 반영한 **추세 분석 및 시계열 모델링** 추가  
- 실제 교통량·차량 속도 등 실측 데이터 연계를 통한 **위험도 산정 정밀도 향상**  
- 사고 위험 점수와 예산·공사 난이도를 함께 고려한 **개선 우선순위 의사결정 모형** 설계  
- 웹 대시보드 형태로 확장하여, 행정 담당자가 바로 사용할 수 있는 **정책 지원 도구**로 발전  
- 보행자 설문·현장 조사 데이터를 추가하여, 통계적 분석을 넘어 **현장 체감 위험도**까지 반영
